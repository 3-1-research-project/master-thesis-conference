\documentclass[../main.tex]{subfiles}
\begin{document}

\section{Introduction}
The rapid growth of digital technologies has brought innovation, but also increased global CO2 emissions. In 2018, data centers were estimated to be responsible for 1\% of the total energy consumption \cite{Masanet_Shehabi_Lei_Smith_Koomey_2020}, which, given the advent of Generative AI, is expected to increase in the coming years. To accommodate this increasing concern, regulatory measures such as the EU's Energy Directive require companies to report on their energy consumption \cite{eu-environmental-efficiency-directive, eu-environmental-impact-reporting-article}. This includes the consumption of software.

Previous research has already investigated multiple areas of how software consumes energy and how we can influence a software application's energy consumption. \textcite{pereira2017energy, Pereira_Couto_Ribeiro_Rua_Cunha_Fernandes_Saraiva_2021, Couto_Pereira_Ribeiro_Rua_Saraiva_2017, Gordillo_Calero_Moraga_Garc√≠a_Fernandes_Abreu_Saraiva_2024} have investigated the energy efficiency of various programming languages solving programmatic problems. However, \textcite{Kempen_Kwon_Nguyen_Berger_2024} recently showed that these rankings may be flawed due to inconsistencies in the third-party libraries that were used and how the software was configured.

\textcite{Pfeiffer_Trindade_Meding_Harwick} instead measured the energy consumption of different programming languages and web frameworks using a web application, offering a more realistic context than prior benchmarks. Similarly, our project \cite{Pfeiffer_Offenberg_Pedersen_Landsgaard_Karlsen} we evaluated energy consumption across web applications written in different languages and frameworks. While language choice affected energy use, configuration also played a significant role.

To our knowledge, no research has been conducted on the impact of configurations on the energy consumption of web applications. We investigate this by selecting a subset of configurations related to optimizations, including jemalloc, Just-In-Time (JIT) compilation, and Profile-Guided-Optimizations (PGO). We do so by investigating the following research question.

\begin{quote}
    \textbf{RESEARCH QUESTION (RQ)}: \emph{How do different implementations of a feature equivalent micro-blogging web application vary in energy consumption depending on how the software is optimized}
\end{quote}

The micro-blogging web application used is MiniTwit, a minimal clone of X (formerly known as Twitter\cite{verge-twitter-rebrand-x}), written in Rust Actix, Python Flask, Ruby Sinatra, JavaScript Express, Java Spring, C\# NetCore, and Go Gorilla. The MiniTwit implementations are adapted from \textcite{Pfeiffer_Trindade_Meding_Harwick} except for Java Spring, which we added. All these were made feature-equivalent by following a set of functional requirements \cite{replication-kit-Karlsen_Landsgaard_Offenberg_Pedersen_2025}.

We propose a set of hypotheses to guide the research, focusing on specific questions related to energy measurement and optimization.

In a previous research project we found that the longer an experiment ran, the more power it would draw. We would like to investigate if this is a consistent pattern.

\begin{quote}
    \textbf{HYPOTHESIS 1 (H1)}: \emph{Implementations with longer execution times draw more power on average, compared to implementations with shorter execution time}
\end{quote}

One approach used for optimizing web applications is the addition of JIT compilation. A recent example of this is Shopify, which added a new JIT implementation to Ruby and saw a significant performance increase. \cite{shopify-yjit}. PGO performs the same optimizations as JIT, but at compile time instead of runtime, which is why we want to explore that as well.

Another way to increase the performance of web applications has been achieved through the use of the memory allocator jemalloc. This has been done by Facebook who hired the jemalloc developer to improve their web application's performance \cite{facebook-jemalloc}. 

We investigate the three optimizations of jemalloc, JIT, and PGO in their own hypotheses.

\begin{quote}
    \textbf{HYPOTHESIS 2 (H2)}: \emph{Implementations configured to use jemalloc will have an lower energy consumption compared to implementations using malloc}
\end{quote}

\begin{quote}
    \textbf{HYPOTHESIS 3 (H3)}: \emph{Implementations configured to use JIT will have lower energy consumption}
\end{quote}

\begin{quote}
    \textbf{HYPOTHESIS 4 (H4)}: \emph{Implementations configured to use PGO will have lower energy consumption}
\end{quote}

Although we believe that optimizations will play a significant role in an implementation's energy consumption, we suspect that certain programming languages may yield higher energy consumption than others, regardless of the optimizations. 

\begin{quote}
    \textbf{HYPOTHESIS 5 (H5)}: \emph{Some implementations will consume more energy than others, regardless of how we configure the runtime optimizations and memory allocator}
\end{quote}

We find that optimizations such as jemalloc, JIT, and PGO can significantly impact energy consumption. JIT and PGO consistently reduce an application's energy consumption and should be enabled whenever possible. The effect of using jemalloc may vary depending on the programming language and web framework.

This paper's contributions are:

\begin{quote}
    \textbf{Reproducible experiment setup}: We offer a fully reproducible experiment design for evaluating energy consumption in web applications. This includes raw measurement data, analysis scripts, and documentation to facilitate validation, comparison, or extension of our results.
\end{quote}

\begin{quote}
    \textbf{Replicable results}: We provide feature-equivalent MiniTwit implementations in multiple programming languages, along with an experiment design. This enables researchers to replicate our study or conduct new experiments using the same infrastructure.
\end{quote}

\begin{quote}
    \textbf{New findings}: To the best of our knowledge, this is the first study to systematically investigate how software optimizations influence the energy consumption of web applications across multiple programming languages.
\end{quote}

\end{document}
